pipeline {
    agent any
    environment {
    
    	filename = '/export/home/webadmin/.jenkins/jobs/mk245-test-folder/jobs/jasper-report-job/workspace/ExtensionCode/PickListReport/TMW/PickListReport.zip'
	}
    options {
        skipStagesAfterUnstable()
    	    }
	    
    stages {
        stage('Build') {
            steps {
                echo 'Building'
		git branch: 'test2-jenkin',
                credentialsId: 'test',
                url: 'https://github.com/bimsoft/Employment_proj.git'
		sh 'pwd'
		echo "${WORKSPACE}"
   		sh 'ls -lrt'    
            }
        }
	
        stage('creating zip') {
            steps {
                echo 'Testing'
                zip zipFile: 'todo-api.zip', dir:'todo-api'   
		sh 'ls -lrt todo-api'    
            }
        }
        stage('Deploy') {
            steps {
                //sh "curl -v https://tssls.omni.manh.com/oauth/token?grant_type=password&username=admin@TMW.com&password=Password1!")
		//sh('curl -b session -X POST http://deployhub.openmakesoftware.com/API/UserProfile?user=admin')
		//def response = httpRequest "https://tssls.omni.manh.com/oauth/token?grant_type=password&username=admin@TMW.com&password=Password1!"
		//println('Status: '+response.status)
		//println('Response: '+response.content)
		echo 'Deploy'
            }
        }
    }
}
